<link rel="import" href="../bower_components/polymer/polymer.html" />
<link rel="import" href="../bower_components/core-animation/core-animation.html" />
<link rel="import" href="../bower_components/core-animation/core-animation-group.html" />

<polymer-element name="blink-tag" attributes="iterations">
  <template>
    <span id="ldrcontent">
      <content></content>
      <core-animation-group id="animation">
        <core-animation id="fadeout" duration="500" iterations="{{iterations*2}}" direction="alternate">
          <core-animation-keyframe>
            <core-animation-prop name="opacity" value="1"></core-animation-prop>
          </core-animation-keyframe>
          <core-animation-keyframe>
            <core-animation-prop name="opacity" value="0.6"></core-animation-prop>
          </core-animation-keyframe>
          <core-animation-keyframe>
            <core-animation-prop name="opacity" value="0.4"></core-animation-prop>
          </core-animation-keyframe>
          <core-animation-keyframe>
            <core-animation-prop name="opacity" value="0"></core-animation-prop>
          </core-animation-keyframe>
        </core-animation>
      </core-animation-group>
    </span>
  </template>
  <script>
    Polymer({
      iterations: "10",
      ready: function() {
        var ani = this.shadowRoot.getElementById("animation");
        ani.target = this.$.ldrcontent;
        if(ani) ani.play();
      }
    });
  </script>
</polymer-element>
